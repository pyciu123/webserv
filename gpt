PrzejrzaÅ‚em TwÃ³j aktualny kod i porÃ³wnaÅ‚em go z wymaganiami projektu webserv z PDF-a ï¿¼. Oto podsumowanie:

â¸»

ğŸ”¹ Na jakim etapie jest projekt

Masz juÅ¼:
	â€¢	Parser konfiguracji (ConfigParser) â€“ obsÅ‚uguje listen, root, server_name, client_max_body_size, error_page, location (z metodami, index, autoindex, cgi_extension, cgi_path, upload_path itd.). To jest zgodne z wymaganiami.
	â€¢	Podstawowy serwer (Server) â€“ otwiera gniazdo, bind, listen, accept, odczyt requestu i wysyÅ‚a response.
	â€¢	Parser requestÃ³w (HttpRequestParse) â€“ rozdziela metodÄ™, Å›cieÅ¼kÄ™, nagÅ‚Ã³wki, body, dÅ‚ugoÅ›Ä‡ body. Potrafi wykrywaÄ‡ bÅ‚Ä™dy w requestach.
	â€¢	Budowanie odpowiedzi (HttpResponse) â€“ dziaÅ‚a dla GET, POST, DELETE i obsÅ‚uguje pliki statyczne. ObsÅ‚uga CGI jest w trakcie implementacji.
	â€¢	Szkielet CGI (CgiHandler) â€“ wykonuje skrypty przez execve.
	â€¢	Makefile â€“ buduje program z flagami (-Wall, -Wextra, -Werror, -std=c++98, -fsanitize=address, -g).

â¸»

ğŸ”¹ Co dziaÅ‚a zgodnie z wymaganiami

âœ” Konfiguracja jest wczytywana z pliku.
âœ” ObsÅ‚uga GET, POST, DELETE dziaÅ‚a (podstawowa logika).
âœ” Potrafisz serwowaÄ‡ statyczne pliki.
âœ” ObsÅ‚ugiwane sÄ… kody 200, 404, 405.
âœ” Struktura projektu i podziaÅ‚ na pliki sÄ… poprawne.
âœ” Kompilacja jest zgodna ze standardem C++98.

â¸»

ğŸ”¹ Co jeszcze trzeba dodaÄ‡, aby speÅ‚niÄ‡ mandatory requirements
	1.	Non-blocking I/O
	â€¢	Aktualnie uÅ¼ywasz blocking socketÃ³w i pÄ™tli while (true) z accept() i read().
	â€¢	Projekt wymaga, Å¼eby serwer dziaÅ‚aÅ‚ w trybie nieblokujÄ…cym i obsÅ‚ugiwaÅ‚ klientÃ³w przez poll() / select() / epoll() / kqueue().
	â€¢	Musisz wiÄ™c:
	â€¢	ustawiÄ‡ sockety na O_NONBLOCK,
	â€¢	zastÄ…piÄ‡ pÄ™tlÄ™ while z accept/read/write â†’ jednÄ… pÄ™tlÄ… event loop z poll() (lub select/kqueue/epoll),
	â€¢	obsÅ‚ugiwaÄ‡ rÃ³wnoczeÅ›nie wielu klientÃ³w.
	2.	ObsÅ‚uga rozÅ‚Ä…czeÅ„ klientÃ³w
	â€¢	Aktualny kod nie rozpoznaje rozÅ‚Ä…czenia klienta. Musisz to poprawiÄ‡ przy pomocy poll().
	3.	DomyÅ›lne strony bÅ‚Ä™dÃ³w
	â€¢	Teraz wysyÅ‚asz tylko plain text "404 Not Found".
	â€¢	Projekt wymaga domyÅ›lnych stron bÅ‚Ä™dÃ³w HTML, jeÅ›li nie zdefiniowano wÅ‚asnych w configu.
	4.	ObsÅ‚uga wielu portÃ³w
	â€¢	Konfiguracja pozwala ustawiÄ‡ tylko jeden listen.
	â€¢	Musisz dodaÄ‡ moÅ¼liwoÅ›Ä‡ otwierania wielu socketÃ³w i obsÅ‚ugiwania ich w jednej pÄ™tli event loop.
	5.	Upload plikÃ³w
	â€¢	W configu masz upload_path, ale w kodzie POST nie zapisuje pliku, tylko zwraca "POST request processed".
	â€¢	Musisz dodaÄ‡ zapis body requestu do pliku w odpowiednim katalogu.
	6.	ZgodnoÅ›Ä‡ z przeglÄ…darkami
	â€¢	Na razie odpowiedzi nie zawierajÄ… wszystkich wymaganych nagÅ‚Ã³wkÃ³w (Date, Server, poprawne Content-Type na podstawie MIME).
	â€¢	To trzeba poprawiÄ‡, Å¼eby dziaÅ‚aÅ‚o w prawdziwych przeglÄ…darkach (Firefox/Chrome).
	7.	ObsÅ‚uga klient_max_body_size
	â€¢	Masz sparsowane to w configu, ale nigdzie nie weryfikujesz wielkoÅ›ci body.
	8.	ObsÅ‚uga index + autoindex
	â€¢	W HttpResponse GET obsÅ‚uguje tylko Å›cieÅ¼ki plikÃ³w.
	â€¢	Brakuje:
	â€¢	sprawdzania, czy Å›cieÅ¼ka jest katalogiem,
	â€¢	obsÅ‚ugi index (np. index.html),
	â€¢	generowania listingu katalogu jeÅ›li autoindex on.
	9.	WiÄ™cej kodÃ³w odpowiedzi
	â€¢	Musisz zwracaÄ‡ m.in. 400 (bad request), 413 (payload too large), 500 (internal error), 301/302 (redirect), 403 (forbidden).
	â€¢	CzÄ™Å›Ä‡ tego masz w configu (error_pages), ale nie jest uÅ¼ywana w HttpResponse.

â¸»

ğŸ”¹ BÅ‚Ä™dy i niespÃ³jnoÅ›ci w aktualnym kodzie
	â€¢	Makefile â†’ reguÅ‚a re ma literÃ³wkÄ™: fclean all-e zamiast fclean all.
	â€¢	HttpRequestParse â†’ _contentLength jest inicjalizowane -1, ale ma typ size_t (unsigned). To da bardzo duÅ¼Ä… wartoÅ›Ä‡ zamiast -1.
	â€¢	reciveRequest() w Server â€“ literÃ³wka w nazwie (recive zamiast receive).
	â€¢	Server::acceptConnection() â€“ zwraca 1 przy bÅ‚Ä™dzie, zamiast -1. W run() traktujesz client_id < 0 jako bÅ‚Ä…d, wiÄ™c zwrÃ³cenie 1 powoduje zÅ‚e zachowanie.
	â€¢	Brakuje obsÅ‚ugi chunked transfer encoding (wymagane w CGI).
	â€¢	Na razie caÅ‚y serwer dziaÅ‚a tylko z jednym klientem na raz â€“ przy drugim kliencie bÄ™dzie blokowaÅ‚.

â¸»

âœ… PodsumowujÄ…c:
Projekt jest na etapie podstawowego serwera dziaÅ‚ajÄ…cego w trybie blokujÄ…cym, ktÃ³ry obsÅ‚uguje konfiguracjÄ™, GET/POST/DELETE i ma szkielet CGI.
Aby speÅ‚niÄ‡ mandatory requirements, musisz jeszcze:
	â€¢	wprowadziÄ‡ poll/select i non-blocking I/O,
	â€¢	dodaÄ‡ obsÅ‚ugÄ™ wielu portÃ³w, upload plikÃ³w, autoindex + index, limit body size, domyÅ›lne strony bÅ‚Ä™dÃ³w, wiÄ™cej statusÃ³w HTTP i peÅ‚nÄ… zgodnoÅ›Ä‡ z przeglÄ…darkami.

â¸»

Chcesz, Å¼ebym zrobiÅ‚ Ci listÄ™ kolejnych krokÃ³w w implementacji w dokÅ‚adnej kolejnoÅ›ci (takie â€œtodoâ€ aÅ¼ do zaliczenia mandatory)?
